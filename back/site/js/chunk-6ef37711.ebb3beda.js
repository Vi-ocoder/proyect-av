(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ef37711","chunk-f616ec00"],{"2a7f":function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var i=t("71d9"),o=t("80d2"),s=Object(o["j"])("v-toolbar__title"),l=Object(o["j"])("v-toolbar__items");i["a"]},"3a63":function(e,a,t){},"6a99":function(e,a,t){},ae58:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"contTable"},[t("v-card",[t("v-card-title",[e._v(" Paquetes Actuales "+e._s(e.temporaly)+" "),t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.paquetes,search:e.search,"sort-by":"idPaq"},scopedSlots:e._u([{key:"item.idPaq",fn:function(a){var i=a.item;return[0==i.dcto||null==i.dcto?t("v-chip",{attrs:{color:"blue",dark:""}},[e._v(" "+e._s(i.idPaq)+" ")]):e._e(),i.dcto>0?t("v-chip",{attrs:{color:"green",dark:""}},[e._v(" "+e._s(i.idPaq)+" ")]):e._e()]}},{key:"top",fn:function(){return[t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[e._v("Directorio General")]),t("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),[t("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",to:"/crear-paquete"}},[e._v(" Nuevo Paquete ")]),t("v-btn",{staticClass:"mb-2",attrs:{color:"secundary",dark:"",to:"/infoUsers"}},[e._v(" Ir a usuarios ")])],t("v-spacer"),t("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" # "+e._s(e.idPaqRoot))])]),t("edit-paq",{attrs:{idPaqRoot:e.idPaqRoot,namePaqRoot:e.namePaqRoot,dialog:e.close,paqRoot:e.paqRoot}})],1)],1),t("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialogDelete,callback:function(a){e.dialogDelete=a},expression:"dialogDelete"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[t("br"),e._v(" ¿Seguro desea borrar el paquete #"+e._s(e.editedItem.idPaq)+", "),t("br"),e._v(e._s(e.editedItem.namePaq)+"?")]),t("v-card-subtitle",[t("br"),e._v(" El paquete se borrará definitivamente..")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){e.dialogDelete=!1}}},[e._v("Cancelar")]),t("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Borrar")]),t("v-spacer")],1)],1)],1),t("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialogVerPaq,callback:function(a){e.dialogVerPaq=a},expression:"dialogVerPaq"}},[t("v-card",[t("div",[t("ver-paq",{attrs:{dialog:e.closeDialogVerPaq,paq:e.paqRoot,root:e.root}})],1)])],1)],2)]},proxy:!0},{key:"item.actions",fn:function(a){var i=a.item;return[t("v-icon",{staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(a){return e.verDetallesPaq(i)}}},[e._v(" mdi-eye ")]),t("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(a){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),t("v-icon",{attrs:{color:"red"},on:{click:function(a){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})],1),t("v-card",[t("br"),t("br")])],1)},o=[],s=(t("4de4"),t("427d")),l=t("ccca"),c=t("ce01"),r={components:{EditPaq:l["default"],VerPaq:c["a"]},data:function(){return{root:"TabPaqs",dialogVerPaq:!1,dialog:!1,dialogDelete:!1,search:"",paquetes:[],paqRoot:[],idPaqRoot:0,namePaqRoot:"",headers:[{text:"Nombre del Paquete",align:"start",sortable:!1,value:"namePaq"},{text:"Código",value:"idPaq"},{text:"Hotel",value:"hotelPaq"},{text:"Precio ($ COP)",value:"valuePaq"},{text:"Dcto (%)",value:"dcto"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{namePaq:"",idPaq:0,hotelPaq:0,valuePaq:0,dcto:0},defaultItem:{namePaq:"",idPaq:0,hotelPaq:0,valuePaq:0,dcto:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Paq":"Editar Paquete"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){var e=this;Object(s["b"])().then((function(a){e.paquetes=a.data})).catch((function(e){return console.error(e)}))},methods:{eliminarPaq:function(e){var a=this;Object(s["a"])(e).then((function(){console.log("Exito"),a.paquetes=a.paquetes.filter((function(a){return a.idPaq!=e}))})).catch((function(){console.log("Error")}))},editItem:function(e){this.editedIndex=this.paquetes.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.idPaqRoot=this.editedItem.idPaq,this.namePaqRoot=this.editedItem.namePaq,this.paqRoot=this.editedItem},deleteItem:function(e){this.editedIndex=this.paquetes.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this.editedItem.idPaq;this.eliminarPaq(e),this.closeDelete()},close:function(){this.dialog=!1,this.actualizarPage()},actualizarPage:function(){var e=this;Object(s["b"])().then((function(a){e.paquetes=a.data})).catch((function(e){return console.error(e)}))},closeDelete:function(){this.dialogDelete=!1},verDetallesPaq:function(e){this.dialogVerPaq=!0,this.paqRoot=e},closeDialogVerPaq:function(){this.dialogVerPaq=!1}}},n=r,d=(t("c315"),t("2877")),u=t("6544"),m=t.n(u),p=t("8336"),q=t("b0af"),v=t("99d9"),h=t("cc20"),P=t("a523"),f=t("8fea"),b=t("169a"),g=t("ce7e"),x=t("132d"),I=t("2fa4"),_=t("8654"),k=t("71d9"),C=t("2a7f"),S=Object(d["a"])(n,i,o,!1,null,null,null);a["default"]=S.exports;m()(S,{VBtn:p["a"],VCard:q["a"],VCardActions:v["a"],VCardSubtitle:v["b"],VCardTitle:v["d"],VChip:h["a"],VContainer:P["a"],VDataTable:f["a"],VDialog:b["a"],VDivider:g["a"],VIcon:x["a"],VSpacer:I["a"],VTextField:_["a"],VToolbar:k["a"],VToolbarTitle:C["a"]})},bacd:function(e,a,t){"use strict";t("6a99")},c315:function(e,a,t){"use strict";t("3a63")},ccca:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-main",[t("v-container",{attrs:{id:"crear-paquete"}},[t("v-form",{attrs:{id:"formPaq"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Aquí el Nombre del paquete","prepend-icon":"mdi-plus-box",hint:"Se muestra el nombre actual, Si desea puede modificarlo",placeholder:e.namePaqRoot},model:{value:e.namePaq,callback:function(a){e.namePaq=a},expression:"namePaq"}})],1),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Fecha de Inicio",type:"date"},model:{value:e.dateIPaq,callback:function(a){e.dateIPaq=a},expression:"dateIPaq"}})],1),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Fecha Final",type:"date"},model:{value:e.dateFPaq,callback:function(a){e.dateFPaq=a},expression:"dateFPaq"}})],1),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Nombre del Hotel","prepend-icon":"mdi-tag-heart-outline",placeholder:e.paqRoot.hotelPaq,hint:"Se muestra el hotel actual, Si desea puede modificarlo"},model:{value:e.hotelPaq,callback:function(a){e.hotelPaq=a},expression:"hotelPaq"}})],1),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{staticClass:"purple-input",attrs:{id:"entradaPrecio",label:"Valor en Pesos",type:"number","prepend-icon":"mdi-cash-100",prefix:"$",placeholder:e.paqRoot.valuePaq,hint:"Se muestra el precio actual, Si desea puede modificarlo"},model:{value:e.valuePaq,callback:function(a){e.valuePaq=a},expression:"valuePaq"}})],1),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-container",{staticClass:"px-0",attrs:{fluid:""}},[t("v-switch",{attrs:{label:"¿TIENE DESCUENTO? "+e.Promocinal,value:"SI"},model:{value:e.Promocinal,callback:function(a){e.Promocinal=a},expression:"Promocinal"}})],1)],1),t("v-col",{attrs:{cols:"1",md:"1"}},["SI"==e.Promocinal?t("v-text-field",{attrs:{rules:[function(e){return!!e||"Item is required"}],label:"Valor Dcto",required:"",type:"number",suffix:"%"},model:{value:e.dcto,callback:function(a){e.dcto=a},expression:"dcto"}}):e._e()],1),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Dirección","prepend-icon":"mdi-map-marker-outline",placeholder:e.paqRoot.addresPaq,hint:"Se muestra la dirección actual, Si desea puede modificar"},model:{value:e.addresPaq,callback:function(a){e.addresPaq=a},expression:"addresPaq"}})],1),t("v-col",{attrs:{cols:"12",md:"4"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Ciudad",placeholder:e.paqRoot.cityPaq,hint:"Se muestra la ciudad actual, Si desea puede modificar"},model:{value:e.cityPaq,callback:function(a){e.cityPaq=a},expression:"cityPaq"}})],1),t("v-col",{attrs:{cols:"12",md:"4"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Departamento",placeholder:e.paqRoot.depPaq,hint:"Se muestra el departamento actual, Si desea puede modificar"},model:{value:e.depPaq,callback:function(a){e.depPaq=a},expression:"depPaq"}})],1),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{staticClass:"purple-input",attrs:{label:"Url de la Imagen","prepend-icon":"mdi-image-outline",placeholder:"Inserte aqui la url de la imagen",hint:e.paqRoot.imagePaq},model:{value:e.imagePaq,callback:function(a){e.imagePaq=a},expression:"imagePaq"}})],1),t("v-col",{attrs:{cols:"12"}},[t("incluidos",{on:{arrayInIncluidos:function(a){e.selection=a}}})],1),t("v-col",{attrs:{cols:"12"}},[t("v-textarea",{staticClass:"purple-input",attrs:{label:"Realice una descripción del paquete","prepend-icon":"mdi-playlist-plus",placeholder:e.paqRoot.descriptionPaq,hint:"Se muestra la descripción actual, Si desea puede modificar"},model:{value:e.descriptionPaq,callback:function(a){e.descriptionPaq=a},expression:"descriptionPaq"}})],1),t("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[t("p",[e._v(" Recuerde que todos los datos del paquete # "+e._s(e.idPaqRoot)+" que estan ingresados se actualizaran en la BD, aquellos campos que esten en blanco no sufriran cambios. ")])]),t("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t("v-btn",{staticClass:"mr-0",attrs:{color:"success"},on:{click:function(a){return e.actualizar()}}},[e._v(" ACTUALIZAR PAQUETE # "+e._s(e.idPaqRoot)+" ")]),t("br"),t("br"),t("v-btn",{staticClass:"mr-0",attrs:{color:"blue",dark:"",width:"233"},on:{click:e.dialog}},[e._v(" CERRAR ")])],1)],1),t("SuccessMessage",{attrs:{message:e.successMessage,snackbar:e.successShow,close:e.closeSuccessDialog,IrInicio:e.closeSuccessDialogAndIr}}),t("ErrorMessage",{attrs:{message:e.errorMessage,snackbar:e.errorShow,close:e.closeErrorDialog}})],1),t("br"),t("br")],1)],1)},o=[],s=(t("4de4"),t("b64b"),t("427d")),l=t("1cce"),c=t("0f2e"),r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-row",[t("v-col",[t("v-treeview",{attrs:{selectable:e.isSelectable,"selected-color":"red",items:e.items,"return-object":""},model:{value:e.selection,callback:function(a){e.selection=a},expression:"selection"}})],1),t("v-divider",{attrs:{vertical:""}}),t("v-col",{staticClass:"pa-6",attrs:{cols:"6"}},[e.selection.length?e._l(e.selection,(function(a){return t("div",{key:a.id},[t("v-row",[t("v-col",{attrs:{cols:"6",md:"1"}},[t("v-icon",[e._v(e._s(a.icon))])],1),t("v-col",{attrs:{cols:"6"}},[e._v(e._s(a.name))])],1)],1)})):[e._v(" Seleccione un beneficio ")]],2)],1)],1)},n=[],d={props:[],data:function(){return{isSelectable:!0,selection:[],items:[{id:1,name:"Tiquetes",children:[{id:1.1,name:"Tiquete Ida",icon:"mdi-airplane-takeoff"},{id:1.2,name:"Tiquete Regreso",icon:"mdi-airplane-landing"}]},{id:2,name:"Alimentación",children:[{id:2.1,name:"Desayuno",icon:"mdi-coffee"},{id:2.2,name:"Almuerzo",icon:"mdi-pasta"},{id:2.3,name:"Cena",icon:"mdi-silverware"}]},{id:4,name:"Seguro y/o Tour",children:[{id:4.1,name:"Seguro",icon:"mdi-shield-lock"},{id:4.2,name:"Tour",icon:"mdi-map-marker-path"}]},{id:3,name:"N° Personas",children:[{id:"a",name:"Una Persona",icon:"mdi-human-male"},{id:"b",name:"Dos Personas",icon:"mdi-human-male-female"},{id:"c",name:"Hasta Cuatro personas",icon:"mdi-human-male-female-child"}]}]}},watch:{selection:function(){this.$emit("arrayInIncluidos",this.selection)}},methods:{}},u=d,m=t("2877"),p=t("6544"),q=t.n(p),v=t("62ad"),h=t("a523"),P=t("ce7e"),f=t("132d"),b=t("0fd9"),g=t("eb2a"),x=Object(m["a"])(u,r,n,!1,null,null,null),I=x.exports;q()(x,{VCol:v["a"],VContainer:h["a"],VDivider:P["a"],VIcon:f["a"],VRow:b["a"],VTreeview:g["a"]});var _={components:{SuccessMessage:l["a"],ErrorMessage:c["a"],Incluidos:I},props:["idPaqRoot","namePaqRoot","dialog","paqRoot"],data:function(){return{successMessage:"",successShow:!1,errorMessage:"",errorShow:!1,idPaq:null,namePaq:"",hotelPaq:"",valuePaq:"",Promocinal:"NO",dcto:0,dateIPaq:"",dateFPaq:"",addresPaq:"",cityPaq:"",depPaq:"",imagePaq:"",descriptionPaq:"",selection:[]}},methods:{actualizar:function(){var e=this;this.idPaq=this.idPaqRoot;var a={idPaq:this.idPaq,namePaq:this.namePaq,descriptionPaq:this.descriptionPaq,valuePaq:this.valuePaq,Promocinal:this.Promocinal,dcto:this.dcto,hotelPaq:this.hotelPaq,dateIPaq:this.dateIPaq,dateFPaq:this.dateFPaq,addresPaq:this.addresPaq,cityPaq:this.cityPaq,depPaq:this.depPaq,imagePaq:this.imagePaq,Incluidos:this.selection};Object.filter=function(e,a){return Object.keys(e).filter((function(t){return a(e[t])})).reduce((function(a,t){return a[t]=e[t],a}),{})};var t=Object.filter(a,(function(e){return""!=e})),i=t;Object(s["d"])(this.idPaq,i).then((function(){return e.openSuccessDialog("Se ha actualizado el producto: "+e.idPaq)})).catch((function(){return e.openErrorDialog("Error al actualizar el producto")}))},openSuccessDialog:function(e){this.successMessage=e,this.successShow=!0},closeSuccessDialog:function(){this.successShow=!1,this.dialog()},closeSuccessDialogAndIr:function(){this.successShow=!1,this.$router.push("/travels")},openErrorDialog:function(e){this.errorMessage=e,this.errorShow=!0},closeErrorDialog:function(){this.errorShow=!1}}},k=_,C=(t("bacd"),t("8336")),S=t("4bd4"),V=t("f6c4"),D=t("b73d"),R=t("8654"),w=t("a844"),y=Object(m["a"])(k,i,o,!1,null,"aff2da9e",null);a["default"]=y.exports;q()(y,{VBtn:C["a"],VCol:v["a"],VContainer:h["a"],VForm:S["a"],VMain:V["a"],VRow:b["a"],VSwitch:D["a"],VTextField:R["a"],VTextarea:w["a"]})}}]);
//# sourceMappingURL=chunk-6ef37711.ebb3beda.js.map