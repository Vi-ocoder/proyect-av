(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37051f4f"],{"160d":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"contTable"},[t("v-card",[t("v-card-title",[e._v(" Reservas Actuales "),t("v-spacer"),t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),t("v-data-table",{staticClass:"elevation-1 myTable",attrs:{headers:e.headers,items:e.reservas,search:e.search,"sort-by":"fechaPago"},scopedSlots:e._u([{key:"item.Estado",fn:function(a){var o=a.item;return["Pendiente"==o.Estado?t("v-chip",{attrs:{color:"warning",dark:""}},[e._v(" "+e._s(o.Estado)+" ")]):e._e(),"En Uso"==o.Estado?t("v-chip",{attrs:{color:"green",dark:""}},[e._v(" "+e._s(o.Estado)+" ")]):e._e(),"No vigente"==o.Estado?t("v-chip",{attrs:{color:"blue",dark:""}},[e._v(" "+e._s(o.Estado)+" ")]):e._e(),"Cancelada"==o.Estado?t("v-chip",{attrs:{color:"red",dark:""}},[e._v(" "+e._s(o.Estado)+" ")]):e._e()]}},{key:"top",fn:function(){return[t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[e._v("Información General")]),t("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),void 0,t("v-spacer"),t("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" # "+e._s(e.idPaqRoot))])]),t("edit-paq",{attrs:{idPaqRoot:e.idPaqRoot,namePaqRoot:e.namePaqRoot,dialog:e.close,paqRoot:e.paqRoot}})],1)],1),t("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialogDelete,callback:function(a){e.dialogDelete=a},expression:"dialogDelete"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[t("br"),e._v(" ¿Seguro desea borrar la reserva #"+e._s(e.editedItem._id)+", asociada al doc. #: "+e._s(e.editedItem.idCliente)+"?")]),t("v-card-subtitle",[t("br"),e._v(" El paquete se borrará definitivamente...")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){e.dialogDelete=!1}}},[e._v("Cancelar")]),t("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(a){return e.borrarReserva()}}},[e._v("Borrar")]),t("v-spacer")],1)],1)],1),t("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.dialogVerRes,callback:function(a){e.dialogVerRes=a},expression:"dialogVerRes"}},[t("v-card",[t("div")])],1)],2)]},proxy:!0},{key:"item.actions",fn:function(a){var o=a.item;return[t("v-icon",{attrs:{color:"red"},on:{click:function(a){return e.deleteItem(o)}}},[e._v(" mdi-delete ")])]}}])})],1),t("v-card",[t("br"),t("br")])],1)},i=[],r=(t("4de4"),t("715c")),s={props:["dialogResF"],components:{},data:function(){return{fechaPago:"",root:"ReservsInfo",dialogVerRes:!1,dialog:!1,dialogDelete:!1,search:"",reservas:[],paqRoot:[],idPaqRoot:0,namePaqRoot:"",headers:[{text:"Id de Reserva",align:"start",sortable:!1,value:"_id"},{text:"Id Cliente",value:"idCliente"},{text:"Paquete",value:"idPaq.namePaq"},{text:"Cod. Paquete",value:"idPaq.idPaq"},{text:"Fecha Salida",value:"fechaPago"},{text:"Estado",value:"Estado"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{namePaq:"",idPaq:0,hotelPaq:0,valuePaq:0,dcto:0},defaultItem:{namePaq:"",idPaq:0,hotelPaq:0,valuePaq:0,dcto:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Paq":"Editar Paquete"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){var e=this;Object(r["c"])().then((function(a){e.reservas=a.data,e.fechaPago=e.reservas.fechaPago.substring(0,10)})).catch((function(e){return console.error(e)}))},methods:{deleteItem:function(e){this.editedItem=Object.assign({},e),this.dialogDelete=!0},borrarReserva:function(){var e=this;console.log(this.editedItem._id),Object(r["a"])(this.editedItem._id).then((function(){e.reservas=e.reservas.filter((function(a){return a._id!=e.editedItem._id})),console.log(e.reservas)})).catch((function(e){console.log(e)})),this.closeDelete()},close:function(){this.dialog=!1,this.actualizarPage()},actualizarPage:function(){var e=this;Object(r["c"])().then((function(a){e.reservas=a.data})).catch((function(e){return console.error(e)}))},closeDelete:function(){this.dialogDelete=!1},verDetallesRes:function(e){this.dialogVerRes=!0,this.paqRoot=e},closeDialogVerRes:function(){this.dialogVerRes=!1}}},n=s,l=(t("8ef9"),t("2877")),d=t("6544"),c=t.n(d),v=t("8336"),u=t("b0af"),f=t("99d9"),h=t("cc20"),g=t("a523"),m=t("8fea"),b=t("169a"),p=t("ce7e"),_=t("132d"),P=t("2fa4"),q=t("8654"),x=t("71d9"),R=t("2a7f"),V=Object(l["a"])(n,o,i,!1,null,null,null);a["default"]=V.exports;c()(V,{VBtn:v["a"],VCard:u["a"],VCardActions:f["a"],VCardSubtitle:f["b"],VCardTitle:f["d"],VChip:h["a"],VContainer:g["a"],VDataTable:m["a"],VDialog:b["a"],VDivider:p["a"],VIcon:_["a"],VSpacer:P["a"],VTextField:q["a"],VToolbar:x["a"],VToolbarTitle:R["a"]})},78394:function(e,a,t){},"8ef9":function(e,a,t){"use strict";t("78394")}}]);
//# sourceMappingURL=chunk-37051f4f.f12eb1ab.js.map